<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Krystory | Crystals</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>

  <body>
    <header class="nav">
      <div class="container nav-inner">
        <div class="brand">
          <img src="assets/background.png" class="brand-logo" alt="Krystory logo" />
          <span class="brand-name">Krystory</span>
        </div>

        <nav class="links">
          <a href="./index.html#home">Home</a>
          <a href="./index.html#about">About</a>
          <a href="./crystals.html">Crystals</a>
          <a href="./blog.html">Blog</a>
        </nav>

        <div class="nav-actions">
          <button class="icon-btn" type="button" aria-label="Cart">üõçÔ∏è</button>
          <button class="icon-btn" type="button" aria-label="Menu">‚ò∞</button>
        </div>
      </div>
    </header>

    <main class="section">
      <div class="container">
        <div class="page-head">
          <h2>Crystals Library</h2>
          <p class="muted">Tap a crystal to go to checkout (demo).</p>
        </div>

        <div class="crystal-grid" id="crystalGrid">
          <article class="crystal-card" data-name="Rose Quartz" data-img="assets/rose.png" data-price="24.88">
            <div class="crystal-img" style="background-image:url('assets/rose.png')"></div>
            <div class="crystal-body">
              <div class="crystal-name">Rose Quartz</div>
              <div class="muted">Love, softness, self-acceptance.</div>
            </div>
          </article>

          <article class="crystal-card" data-name="Amethyst" data-img="assets/Amethyst.png" data-price="24.88">
            <div class="crystal-img" style="background-image:url('assets/Amethyst.png')"></div>
            <div class="crystal-body">
              <div class="crystal-name">Amethyst</div>
              <div class="muted">Calm mind, sleep, gentle clarity.</div>
            </div>
          </article>

          <article class="crystal-card" data-name="Citrine" data-img="assets/Amazonite.png" data-price="24.88">
            <div class="crystal-img" style="background-image:url('assets/Amazonite.png')"></div>
            <div class="crystal-body">
              <div class="crystal-name">Citrine</div>
              <div class="muted">Confidence, positivity, momentum.</div>
            </div>
          </article>

          <article class="crystal-card" data-name="Aquamarine" data-img="assets/Black Obsidian.png" data-price="24.88">
            <div class="crystal-img" style="background-image:url('assets/Black Obsidian.png')"></div>
            <div class="crystal-body">
              <div class="crystal-name">Aquamarine</div>
              <div class="muted">Clear communication, soothing energy.</div>
            </div>
          </article>

          <article class="crystal-card" data-name="Clear Quartz" data-img="assets/Selenite.png" data-price="24.88">
            <div class="crystal-img" style="background-image:url('assets/Selenite.png')"></div>
            <div class="crystal-body">
              <div class="crystal-name">Clear Quartz</div>
              <div class="muted">Amplify intention, all-purpose support.</div>
            </div>
          </article>

          <article class="crystal-card" data-name="Obsidian" data-img="assets/Clear Quartz.png" data-price="24.88">
            <div class="crystal-img" style="background-image:url('assets/Clear Quartz.png')"></div>
            <div class="crystal-body">
              <div class="crystal-name">Obsidian</div>
              <div class="muted">Protection, boundaries, grounding.</div>
            </div>
          </article>
        </div>
      </div>
    </main>

    <script>
      // Click crystal card -> go checkout.html (with params)
      document.addEventListener("DOMContentLoaded", () => {
        const grid = document.getElementById("crystalGrid");
        if (!grid) return;

        grid.addEventListener("click", (e) => {
          const card = e.target.closest(".crystal-card");
          if (!card) return;

          const name = card.dataset.name || card.querySelector(".crystal-name")?.textContent || "Crystal";
          const img = card.dataset.img || "assets/rose.png";
          const price = card.dataset.price || "24.88";

          const url =
            "./checkout.html" +
            `?name=${encodeURIComponent(name + " Bracelet")}` +
            `&img=${encodeURIComponent(img)}` +
            `&price=${encodeURIComponent(price)}`;

          window.location.href = url;
        });

        // keyboard: Enter/Space
        document.querySelectorAll(".crystal-card").forEach((card) => {
          card.tabIndex = 0;
          card.setAttribute("role", "button");
          card.addEventListener("keydown", (e) => {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              card.click();
            }
          });
        });
      });
    </script>
  </body>
</html>
